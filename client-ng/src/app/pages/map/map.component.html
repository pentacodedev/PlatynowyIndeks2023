<div class="info" *ngIf="selectedLocation">
    <h2>Obiekt: <span class="text-primary">{{selectedLocation.name}}</span></h2>
    <h3>Opis</h3>
    <p>{{selectedLocation.description}}</p>
    <h3>Dane ogólne</h3>
    <h4>Adres:</h4>
    <p>{{selectedLocation.adress}}</p>
    <p><code>Lat: {{selectedLocation.coordLat}}<br>Lon: {{selectedLocation.coordLon}}</code></p>
    <a [href]="sanitizedUrl">lokalizacja</a>
</div>

<div class="events" *ngIf="selectedEvents$ | async">
    <h2>Wydarzenia:</h2>
    <div class="event" *ngFor="let ev of selectedEvents$ | async">
        <h3>{{ev.event.name}}</h3>
        <p>
            Utworzone przez: {{ev.event.eventHost.userName}}
        </p>
        <p>
            Od: {{ev.event.dateOfStart | date:'short'}} <br>
            Do: {{ev.event.dateOfEnd | date:'short'}}
        </p>
        <p>
            Uczestników: {{ev.event.confirmedParticipants.length}}
        </p>
        <button *ngIf="ev.isJoined"  (click)="joinEvent(ev.event)">Dołącz</button>
        <button *ngIf="!ev.isJoined" (click)="leaveEvent(ev.event)">Opuść</button>
    </div>
</div>

<div id="map"
leaflet
[leafletOptions]="options"
>
    <div *ngFor="let marker of markers$ | async" [leafletLayer]="marker"></div>
</div>